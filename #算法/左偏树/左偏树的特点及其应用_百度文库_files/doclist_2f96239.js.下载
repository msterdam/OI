define("wkview:widget/kg_recommend/component/doclist/doclist.js",function(t,e){var i=t("wkview:widget/ui/html_view/widget.js"),n=i.widget,s=t("wkview:widget/kg_recommend/view/statistic.js").Statistic,o=t("wkcommon:widget/ui/lib/jquery/jquery.js"),c=t("wkcommon:widget/lib/doT/doT.min.js"),a=(t("wkcommon:widget/ui/js_core/log/log.js"),t("wkcommon:widget/ui/lib/browser/browser.js")),l=t("wkview:widget/kg_recommend/component/doclist/docitem/docitem.js").Docitem,d=n({Options:{},elements:{".switch":"$switchBtn",".switch .icon":"$switchIcon",".switch .icon":"$switchIcon",".doclist-content":"$doclistContent"},_init:function(){this.Mediator=this.options.Mediator,this.data=this.options.data.doclist.data,this.total=this.options.data.doclist.total,this.totalPage=this.options.data.doclist.totalPage,this.curent=this.options.data.curent,this.pn=0,this.tpl=c.template('<div class="doclist-wrapper">\n<div class="doclist-hd clearfix">\n<span class="current-kp">{{=it.cur_enname}}</span>\n{{? it.total == 5 }}<span class="switch"><i class="icon iconfont">&#xe644;</i><span class="text">\u6362\u4e00\u6279<span></span>\n{{?}}</div>\n<div class="doclist-content">\n</div>\n</div>\n')},_initEvents:function(){var t=this;t.on("onload",function(){t._createItems(t.data)}),t.on("onload",function(){t.bindEvent(t.$elements.$doclistContent,"click",function(e){o(e.target).hasClass("title")&&t.fire("doclistBlockClick")})}),t.on("onload",function(){t.bindEvent(t.$elements.$switchBtn,"mouseenter",function(){a.ie&&a.ie<=9&&t.$elements.$switchBtn.addClass("hoverenter")}),t.bindEvent(t.$elements.$switchBtn,"mouseleave",function(){a.ie&&a.ie<=9&&t.$elements.$switchBtn.removeClass("hoverenter")}),t.bindEvent(t.$elements.$switchBtn,"click",function(){t.$elements.$switchIcon.addClass("rotates");var e=t.curent.ent_uuid;t.fire("switchClick",{ent_uuid:e}),t.pn=++t.pn%t.totalPage,t.Mediator.fire("s:getDoclistBySwitch",{pn:t.pn,entUuid:e})})}),t.on("ondispose",function(){t.$el.html(""),t.unBindEvent(t.$elements.$switchBtn,"click"),t.unBindEvent(t.$elements.$switchBtn,"mouseenter"),t.unBindEvent(t.$elements.$switchBtn,"mouseleave")}),t.Mediator.on("v:refreshDoclist",function(e){t.$elements.$doclistContent.html(""),t.data=e.doclist.data,t._createItems(t.data),t.$elements.$switchIcon.removeClass("rotates")})},_render:function(){var t=this;t.$el.html(t.tpl({cur_enname:t.curent.ent_name||"",total:t.total}))},_createItems:function(t){var e=this;e.docitems=[],e.$elements.$doclistContent.html(""),o.each(t,function(t,i){var n=new l({el:".doclist-content",Mediator:e.Mediator,data:i});e.docitems.push(n)})},resize:function(t){this._resizeDocItemsTitleWidth(t)},_resizeDocItemsTitleWidth:function(t){var e=this;e.docitems&&o.each(e.docitems,function(e,i){i.calTitleMaxWidth(t)})}},{type:"doclist"});i.register(d,s,s.prototype),e.Doclist=d});